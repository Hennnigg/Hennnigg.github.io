---
title:  "Jsp day 04 - JUnit Test, 파일 스트리밍"
categories:
  - Jsp
---

23-02-22<br>
Jsp 수업 day04 

<br><br>

#### 이전수업시간 리뷰

1. 정적인 서비스 제공하던 과거의 웹<br>
2. 동적인 서비스 : 서버에서 CGI 프로그램 =>실행 동적인 파일 생성 => 클라이언트에 응답<br>
단점 : 프로세스 하나씩 실행<br>
10개의 요청시 10개의 프로세스가 서버 안에서 실행되어야 한다.<br>
하나의 프로그램이 실행할 때마다 하나의 프로세스 사용<br>

CGI(Common Gateway Interface)<br>
흔히 발생된 에러 : 500(동시접속자 수가 많다 -> 제공하는 자원 한정적)<br>

**멀티태스팅 구현**
1. 멀티 쓰레딩 지원(동시에 쓰레드 병행으로 실행)
2. 멀티 프로세싱 (매번 새로운 프로세싱)

하나의 쓰레딩이 쓰는 자원의 크기와 프로세싱이쓰는 자원의 크기가 다름<br>

**확장 CGI**<br>
: 대표적인 것 - Servlet(자바로 된 확장 CGI)<br>
- 자바 언어가 가진 장점을 쓸 수 있다.(재사용, 상속 등, 캡슐화)
- api 생태계가 오픈됨
- 이식성이 좋다 : JVM만 있으면 어느 운영체제든 프로그램을 사용할 수 있다. 

<br>

### **JSP**

JSP는 서블릿이다.<br>

<hr>
<br>

개발환경 구성하기<br>

4티어 구조(N 티어)
티어의 역할 설명

확장 CGI방식 = 서버방식(필수적으로 WAS 필요)

<br>
<hr>

### 이클립스

about 이클립스(이클립스에 설치된 프러그인) - springIDE , 전자정부, 메이븐에서 사용할 수 있는 플러그인 ,svn , PE : 프로퍼티스 한글 유니코드로 변환, pmd 배포 테스트(정적 테스트 진행)<br>
 

단위 테스트를 위한 테스트케이스<br>
테스트 하기위해 배포의 대상이 되는 자원과 아닌 자원들 분리(main/test)<br>

빌드패스 - source - test 자원 - contains : no -> yes<br>
outpout 폴더<br>
target/test-classes => 배포의 대상이 아님<br>

직접 설정하니 불편함 => 메이븐을 사용하면 알아서 해줌

WAS를 구성할 때 특정 클라이언트의 ip를 지정해서 코드를 작성해서는 안된다.

### **JUnit**

단위 테스트 도구 Framework<br>
문자 혹은 GUI 기반으로 실행<br>

![image](https://user-images.githubusercontent.com/108390474/220511133-861fcc02-e9d8-44b4-9a50-8b3392281003.png)

<hr>
<br>

### **파일스트리밍**

- resources\images\cute4.JPG(바뀌지 않는 고정주소)
- http://localhost/WebStudy01/resources/images/cute4.JPG(= 논리적인 주소)

localhost의 진짜 주소<br>
D:\A_TeachingMaterial\06_JSP_Spring\workspace\.metadata\.plugins\org.eclipse.wst.server.core\tmp0\wtpwebapps<br>

![image](https://user-images.githubusercontent.com/108390474/220511605-7e2f3368-bf63-4558-b3cd-286028137bb0.png)


<br><br>

### **웹 리소스(web resource)**
웹리소스 밖의 서버 영역 = 파일 시스템 리소스<br>
클라이언트가 중재자 쪽으로 요청을 보내면
중재자가 대신 파일 리소스를 읽어보냄<br>
읽은데이터를 자신이 응답하는 것처럼 내보내줌 (일반적인 스트리밍서비스)

![image](https://user-images.githubusercontent.com/108390474/220542986-cc2270f5-1599-4759-b41b-465723390ec2.png)

<br><br>

